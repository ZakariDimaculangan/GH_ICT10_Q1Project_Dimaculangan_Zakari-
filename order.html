<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Form - Bistro Del Sol</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body class="bg-light">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <a class="navbar-brand" href="index.html">Bistro Del Sol</a>
      <div>
        <a class="nav-link text-white" href="index.html">Home</a>
        <a class="nav-link text-white" href="order.html">Order Form</a>
        <a class="nav-link text-white" href="contact.html">Contact Us</a>
      </div>
    </div>
  </nav>

  <div class="container py-5">
    <h2 class="text-center text-primary mb-4">Place Your Order</h2>
    <div class="card p-4 shadow-sm">
      <form id="order-form">
        <div class="mb-3">
          <label for="item" class="form-label">Select Menu Item</label>
          <select id="item" class="form-select">
            <option value="Pasta Primavera">Pasta Primavera - ₱249.50</option>
            <option value="Beef Tapa">Beef Tapa - ₱199.00</option>
            <option value="Mango Cheesecake">Mango Cheesecake - ₱175.00</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="quantity" class="form-label">Quantity</label>
          <input type="number" id="quantity" class="form-control" value="1" min="1">
        </div>

        <div class="mb-3">
          <label for="customer" class="form-label">Customer Name</label>
          <input type="text" id="customer" class="form-control" placeholder="Enter your name">
        </div>

        <button py-click="calculate_total()" type="button" class="btn btn-primary w-100">Calculate Total</button>
      </form>

      <div class="mt-4">
        <h5>Order Summary:</h5>
        <div id="summary" class="border rounded p-3 bg-white"></div>
      </div>
    </div>
  </div>

  <py-script>
menu = {"Pasta Primavera": 249.50, "Beef Tapa": 199.00, "Mango Cheesecake": 175.00}
tax_rate = 0.08

def calculate_total():
    item = Element("item").element.value
    qty = int(Element("quantity").element.value)
    customer = Element("customer").element.value

    subtotal = menu[item] * qty
    total = subtotal + (subtotal * tax_rate)

    summary_html = f"""
    <p><strong>Customer:</strong> {customer}</p>
    <p><strong>Item:</strong> {item} x{qty}</p>
    <p><strong>Subtotal:</strong> ₱{subtotal:.2f}</p>
    <p><strong>Tax (8%):</strong> ₱{subtotal*tax_rate:.2f}</p>
    <p><strong>Total:</strong> ₱{total:.2f}</p>
    """

    Element("summary").element.innerHTML = summary_html
  </py-script>
</body>
</html>
